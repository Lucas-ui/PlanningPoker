<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Planning Poker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link rel="shortcut icon" type="image/x-icon" href="./assets/images/favicon.png" />
  <link rel="stylesheet" href="./assets/css/style.css" />
</head>

<body>
  <main class="center-card">
    <h1 id="app-title" class="brand">Planning Poker</h1>
    <p class="tagline">Estimer les backlogs de votre équipe !</p>
    <button id="openModal" class="start-btn" aria-haspopup="dialog" aria-controls="setupModal">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden style="transform: translateY(1px)">
        <path d="M12 2v20M2 12h20" stroke="rgba(255,255,255,0.95)" stroke-width="1.6" stroke-linecap="round"
          stroke-linejoin="round" />
      </svg>
      Commencer la partie
    </button>
    <button id="resumeBtn" class="start-btn btn-secondary" style="
          margin-top: 10px;
          padding: 10px 20px;
          background: rgba(255, 255, 255, 0.07);
          border: 1px solid rgba(255, 255, 255, 0.15);
          color: var(--muted);
          box-shadow: none;
        " aria-haspopup="dialog" aria-controls="resumeModal">
      Reprendre une partie
    </button>

    <p class="meta">En mode local.</p>
  </main>

  <section id="setupModal" class="modal">
    <div class="modal-dialog">
      <header>
        <h2 id="setupTitle">Configurer la session</h2>
      </header>
      <form id="sessionForm">
        <fieldset>
          <label for="sessionName">Nom de la session</label>
          <input type="text" id="sessionName" name="sessionName" placeholder="Lyon 2" required />
          <label for="participants">Nombre de participants</label>
          <input type="number" id="participants" name="participants" min="2" required />
          <label for="jsonFile">Importer une User Story (en JSON)</label>
          <p id="jsonError" class="error-msg invisible"></p>
          <div class="file-field">
            <input type="file" id="jsonFile" accept=".json" />
          </div>
          <label for="rule">Sélectionner une règle</label>
          <select id="rule" name="rule" required>
            <option value="unanimite" selected>Unanimité</option>
            <option value="moyenne">Moyenne</option>
            <option value="mediane">Médiane</option>
            <option value="majoriteAbsolue">Majorité absolue</option>
            <option value="majoriteRelative">Majorité relative</option>
          </select>
        </fieldset>
        <div class="form-actions">
          <button type="button" id="closeModal" class="btn-secondary">
            Annuler
          </button>
          <button type="submit" class="btn-primary">Valider</button>
        </div>
      </form>
    </div>
  </section>

  <section id="resumeModal" class="modal">
    <div class="modal-dialog">
      <header>
        <h2>Reprendre une partie</h2>
      </header>
      <form id="resumeForm">
        <fieldset>
          <label for="resumeJsonFile">Importer le fichier de sauvegarde (JSON)</label>
          <p id="resumeJsonError" class="error-msg invisible"></p>
          <div class="file-field">
            <input type="file" id="resumeJsonFile" accept=".json" required />
          </div>
        </fieldset>
        <div class="form-actions">
          <button type="button" id="closeResumeModal" class="btn-secondary">
            Annuler
          </button>
          <button type="submit" class="btn-primary">Reprendre</button>
        </div>
      </form>
    </div>
  </section>

  <script src="./assets/js/main.js" type="module"></script>
</body>

</html>